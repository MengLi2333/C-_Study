# 第五章
## 变量的作用域、生存期、可见性
- 作用域分类
	- 函数原型作用域
		- 函数原型中的参数
		- 作用域始于“(”，止于“)”
	- 局部作用域（块作用域）
	- 类作用域
		- 作用域包括：类体和成员函数体
	- 文件作用域
		- 全局变量范围扩展：extern
	- 命名空间作用域
- 可见性
	- 可见性是从对标识符的引用的角度来谈的概念
	- 可见性表示从内层作用域向外层作用域“看”时能看见什么
	- 如果标识在某处可见，就可以在该处引用此标识符
	- 在c++中，当内层作用域中没有声明与外层作用域同名的标识符，则外层作用域的标识符可见
- 静态生存期：数据的生存期从程序开始就开始，直到程序结束
- 动态生存期：数据的生存期与其作用域同步
- c++中变量的作用域、生存期、可见性机制与c语言相同，在此不再赘述
## 类的静态数据成员
- 用关键字static声明
- 静态成员由该类的所有对象共享，静态成员具有静态生存期
- 必须在类外定义和初始化，用`::`来表明所属的类
- 通常用静态函数成员来处理静态数据成员
## 类的友元
- 友元是c++提供的一种破坏数据封装和数据隐藏的机制
- 通过将一个模块声明为另一个模块的友元，一个模块能够引用到另一个模块中本是被隐藏的信息（private、protected成员）
- 要注意友元的关系是单向的
- 允许友元访问的类需要在该类的public中声明`friend 函数原型`
- 友元使得开发者能够在封装和快速性方面做合理选择
- 为了确保数据的完整性，慎用友元
- 友元函数
	- 友元函数是在类声明中由关键字`friend`修饰说明的非成员函数，在它的函数体中能够通过对象名访问private、protected成员（需要通过对象名）
- 友元类
	- 当类A声明类B是其友元时，类B中的所有对象都可以访问类A的private、protected成员
	- 声明语法：`friend 类名称`
## 类中数据的保护
- 常成员：用const修饰的对象成员
- 常成员函数
	- 常成员函数不能更新对象的数据成员
	- 声明语法`类型说明符 函数名(参数表) const`
	- 参数表后的const关键字参与重载函数的区分（即带有const和不带有const的函数是一对重载函数）
	- 常对象和一般对象都可调用常对象函数
- 常数据成员：用const说明的数据成员
- 常引用
	- 类的复制构造函数中的参数就是常引用
## 文件和预处理指令
- 在c++中，包含的系统头文件是不需要.h后缀的，包含的非系统头文件需要.h后缀
- 在一个文件中定义一个命名空间，在里面写的函数就不能用在其他文件中调用（因为他们不在一个命名空间）
- 标准c++库
	- 标准c++类与组件在逻辑上分为6类
		1. 输入/输出类
		2. 容器类与抽象数据类型
		3. 存储管理类
		4. 算法
		5. 错误处理
		6. 运行环境支持