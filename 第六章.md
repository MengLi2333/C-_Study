# 第六章
## 数组
- 基础知识与c语言相同，在此不再赘述
- 对象数组的初始化
	- 语法：`类名 对象数组名[元素个数] = {类名(初始化参数列表), 类名(初始化参数列表), ...}`
	- 当开发者没有进行对象的初始化时，系统自动采用默认初始化（即调用默认初始化函数）
- 基于范围的for循环
	- 这种for循环与python当中的for循环思想一致
	- 语法
		>
			int array[] = {0, 1, 2, 3, 4};
			for (int ele: array) {
				ele += 2;
			}

## 指针
- 空指针：对指针赋值为0表示其不指向任何地方，也可用关键字nullptr，这样更明确
- 指针数组
	- 指针数组的一种应用：用于存放大小不同的一维数组的数组名
- 函数指针
- 对象指针
	- 对象指针的用法与结构体指针的用法相同
	- 当ptr指向了一个对象时，可以使用`(*ptr).`的方式访问其成员，也可用`ptr->`的方式访问
	- this指针
		- this指针隐含与类的每一个非静态成员函数中
		- 类似于python中的self，this指针指向了成员函数所操作的对象
		- 同样类似于python，对象在调用其函数成员时，也暗地里传入了指向自己的指针
		- 例如，在Point类中的getX函数中的语句`return x;`相当于`return this->x;`
	- 当类A中出现类B的对象，在类B中出现类A的对象，这样必须做至少一个类的前项引用声明，并只能在定义在前面的类中定义另一个类的对象指针
## 动态分配内存
- 动态申请内存操作符：new
	- 语法：`new 类型名(初始化参数列表)`
	- 申请的内存空间的大小取决于类型
	- 内存申请可能成功可能失败，成功时返回空间的指针；失败时抛出异常
- 释放内存操作符：delete
	- 语法：`delete 指针`
	- 其中的指针必须是new的返回值
	- 当空间中有对象时，对象会自动调用析构函数
- 数组内存的动态申请
	- 申请语法：`new 类型名[数组元素个数][数组元素个数]...`
	- 释放语法：`delete[] 数组名`
		- 注意在delete的后面必须要且只加一个`[]`，若不加则只会释放数组名所指向的那个元素的空间
- 利用动态内存的的特点，我们可以间接地通过变量确定数组的大小，还可以将这种机制封装成类，这样更加方便使用
## 智能指针
- 为了防止动态申请内存时可能造成的内存泄漏，c++提供了智能指针来帮助管理内存空间
- unique_ptr
	- 不允许多个指针共享其指向的资源，可以用标准库中的move函数将指针所指向的空间转移到别的地址，原指针失效
- shared_ptr
	- 允许多个指针共享其指向的资源
- weak_ptr
	- 可复制shared_ptr，但其构造或释放对资源不产生影响
## vector对象
- vector是一个类模板，可以封装任何类型的动态数组，自动创建和删除
- vector会检测数组下标是否越界
- 使用语法：`vector<元素类型> 数组对象名(元素个数)`
- vector对象可以直接通过下标运算得到每个元素：`vector对象名[下标]`
- 还可以用`vector对象名.size()`来获取数组长度
- `vector对象名.bigin()`和`vector对象名.end()`可分别返回一个指向开始元素和结尾元素的“指针”（其实是迭代器）
## 深层复制与浅层复制
- 浅层复制：将源数据一一对应地复制到目标数据
	- 当源数据存在指向某一空间的指针时，复制得到的对象也会有指向该空间的指针
- 深层复制
	- 当源数据存在指向某一空间的指针时，会复制一块这样的空间和里面的数据，并重新让一个指针指向这个空间
## 移动构造
- 当一个对象占用了一部分动态内存空间时，右需要将其动态内存空间的资源转给别的对象，这就需要移动构造
- 语法
	>
		类名::类名(类名 && obj): ...// 将obj指向动态内存的指针赋值给这个对象的指针 {}

## 字符串
- c风格的字符串：字符数组
- c++风格的字符串：利用string类
	- `string s1`得到一个空字符串
	- `string s2 = "abc"`用字符串常量的指针初始化s2
	- `string s3 = s2`用s2“赋值”给s3
	- `s1.length()`得到s1的长度
	- `s + t`将串s和串t连接成一个新串
	- `s = t`用t更新s
	- `s == t`判断s和t是否相等
	- `s != t`判断s和t是否不等
	- `s < t`判断s是否小于t（按字典顺序比较）
	- `s <= t` `s > t` `s >= t`
	- `s[i]`访问下标为i的字符
- string库中包含的其他函数
	- `getline`可以读入整行字符串
		- `getline(cin, string对象, 分隔符字符 = '\n')`